{"version":3,"sources":["d3js_ch08.js"],"names":["$","characters","append","attr","rect","svg","selectAll","d3","d","i","text","select","on","data","char","enter","keyCode","log","this","pos","touches"],"mappings":"aAAAA,EAAE,WACD,IAAIC,GAAc,IAAK,IAAK,IAAK,KAA7BA,EAAAA,GAAAA,OAAc,QAAUC,OAAK,OAAjCC,KAAA,QAAA,KAAAA,KAAA,SAAA,KAGIC,EAAOC,EAAIC,UAAU,QADrBD,KAAME,GACNH,QAIWF,OAAc,QACxBC,KAAK,IALC,SAAAK,EAMNL,GANM,OAAA,IAMDM,EANC,KAWPC,KAAAA,IAAWJ,IAIAH,KAAUM,QAAU,KAC9BN,KAAK,SACLA,IAGKA,KAAA,KAAA,IATVA,KAAA,KAAA,IAUGQ,KAAO,OAAQC,aACPP,EAAAC,UAAQ,QACjBO,KAAIC,GACJC,QACCb,OAAO,QADRC,KAEK,IAAA,SAAAK,EAAAC,GAAA,OAAA,IAAAA,EAAA,KACJN,KAAO,IAAA,IACPA,KAAA,KAAA,IANFA,KAAA,KAAA,IADDA,KASM,OAAS,SACdC,KAAA,SAAUI,GAAV,OAAAA,IACAD,GAXDI,OAAA,QAAAC,GAAA,UAAA,WACCR,EAAKD,KAAK,OAAQ,SAASK,GAkBvBD,OAAGI,GANKN,OAAIH,aAAJK,GACRJ,MAAKa,SAOF,iBAEKC,gBAMRV,GAAGI,QAAH,WAhBQP,EAAbD,KAAA,OAAA,eAAaE,EAAIH,OAAO,UACnBC,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,IAAK,IACVA,KAAK,OAAQ,SACbS,GAAG,aAAc,WACjBL,GAAGI,OAAOO,MAAMf,KAAK,OAAQ,WAE7BS,GAAG,YAAa,WAChB,IAAIO,EAAMZ,GAAGa,QAAQF,MAAM,GAE3BX,GAAGI,OAAOO,MACRf,KAAK,KAAMgB,EAAI,IACfhB,KAAK,KAAMgB,EAAI,MAEjBP,GAAG,WAAY,WACfL,GAAGI,OAAOO,MAAMf,KAAK,OAAQ","file":"d3js_ch08.js","sourcesContent":["$(function(){\n\tvar characters = ['A', 'S', 'D', 'F'];\n\n\tvar svg = d3.select('body').append('svg').attr('width', 500).attr('height', 500);\n\tvar rect = svg.selectAll('rect')\n\t\t\t\t\t.data(characters)\n\t\t\t\t\t.enter()\n\t\t\t\t\t.append('rect')\n\t\t\t\t\t.attr('x', (d, i) => i * 110 + 10)\n\t\t\t\t\t.attr('y', 50)\n\t\t\t\t\t.attr('width', 100)\n\t\t\t\t\t.attr('height', 70)\n\t\t\t\t\t.attr('rx', 10)\n\t\t\t\t\t.attr('ry', 10)\n\t\t\t\t\t.attr('fill', 'steelblue');\n\tvar text = svg.selectAll('text')\n\t\t\t\t\t.data(characters)\n\t\t\t\t\t.enter()\n\t\t\t\t\t.append('text')\n\t\t\t\t\t.attr('x', (d, i) => i * 110 + 10)\n\t\t\t\t\t.attr('y', 50)\n\t\t\t\t\t.attr('dx', 10)\n\t\t\t\t\t.attr('dy', 20)\n\t\t\t\t\t.attr('fill', 'ivory')\n\t\t\t\t\t.text((d) => d);\n\td3.select('body').on('keydown', function(){\n\t\trect.attr('fill', function(d) {\n\t\t\tvar char = String.fromCharCode(d3.event.keyCode)\n\t\t\tif( d == char){\n\t\t\t\treturn 'lightsteelblue';\n\t\t\t}else{\n\t\t\t\treturn 'steelblue';\n\t\t\t}\n\t\t});\n\t}).on('keyup', function(){\n\t\trect.attr('fill', 'steelblue');\n\t});\n\n\tvar circle = svg.append('circle')\n\t\t\t\t\t.attr('cx', 50)\n\t\t\t\t\t.attr('cy', 200)\n\t\t\t\t\t.attr('r', 40)\n\t\t\t\t\t.attr('fill', 'coral')\n\t\t\t\t\t.on('touchstart', function(){\n\t\t\t\t\t\td3.select(this).attr('fill', 'khaki');\n\t\t\t\t\t})\n\t\t\t\t\t.on('touchmove', function(){\n\t\t\t\t\t\tvar pos = d3.touches(this)[0]; // 取得第一個觸控點\n\t\t\t\t\t\tconsole.log(pos);\n\t\t\t\t\t\td3.select(this)\n\t\t\t\t\t\t\t.attr('cx', pos[0])\n\t\t\t\t\t\t\t.attr('cy', pos[0]);\n\t\t\t\t\t})\n\t\t\t\t\t.on('touchend', function(){\n\t\t\t\t\t\td3.select(this).attr('fill', 'coral');\n\t\t\t\t\t});\n});"]}